import{j as e,e as S,r as x,ad as Z,f as u,ae as ee,af as U,ag as G,ah as N,ai as M,R as re,aj as te,ak as ie}from"./index-1d78c4ac.js";import{B as se}from"./Breadcrumb-4b5ba697.js";import{C as oe}from"./CustomCheckbox-0154e390.js";import{Y as F,O as P,ao as A,E as ae,al as ne,ap as le,aq as ce,ar as z,a7 as de,a1 as me}from"./index.esm-4ca6571d.js";import{u as Q,G as H,P as pe}from"./Grid-ba112631.js";import{L as V}from"./ListItemButton-6f09015a.js";import{B as o,T as m}from"./Box-3b2e6d90.js";import{L as _}from"./ListItemIcon-39000d2a.js";import{L as q}from"./ListItemText-f12ae70f.js";import{S as g}from"./Stack-74791772.js";import{C as K}from"./Chip-ef3907c5.js";import{f as he}from"./index-61a4c70c.js";import{S as Y}from"./Scrollbar-8be881e4.js";import{L as J}from"./List-eaf26c6f.js";import{C as v}from"./CustomFormLabel-ad90862e.js";import{S as xe}from"./Slide-73d624dd.js";import{B as h}from"./Button-6de5bece.js";import{D as ue,a as je}from"./DialogContent-aa8a214a.js";import{D as fe}from"./DialogTitle-be3ad24b.js";import{D as ge}from"./DialogContentText-ef3b281b.js";import{T as k}from"./TextField-84ec9af9.js";import{D as Ce}from"./DialogActions-d883cc36.js";import{D as y}from"./Divider-32914f08.js";import{C as be}from"./CustomTextField-cf77374e.js";import{F as we}from"./Fab-f5ac0b6f.js";import{I as ve}from"./InputAdornment-d2fe32aa.js";import{e as L}from"./emailSv-c7d18f3d.js";import{R as ke}from"./Quill-accb0170.js";import{T as E}from"./Tooltip-58d28098.js";import{I}from"./IconButton-6eb83b27.js";import{A as T}from"./Avatar-49c7f2db.js";import{P as ye}from"./PageContainer-51f17055.js";import{A as Le}from"./AppCard-b9f72fbf.js";import{u as O}from"./useMediaQuery-4c88f6cc.js";import{D}from"./Drawer-1edd8507.js";import"./Link-5958468e.js";import"./SwitchBase-a9247a40.js";import"./useFormControl-9666228d.js";import"./useControlled-05793c79.js";import"./listItemButtonClasses-af8afb72.js";import"./listItemTextClasses-76a31095.js";import"./createStack-08af7ebe.js";import"./styled-db48c038.js";import"./useThemeProps-a461f42f.js";import"./index-5a0c5ef2.js";import"./index-6a3f0062.js";import"./index-97a5ba67.js";import"./isObject-3c28966c.js";import"./utils-f13413e5.js";import"./ownerWindow-f1e1d6ee.js";import"./useId-521a9597.js";import"./debounce-517eeb3c.js";import"./Modal-5026ae4f.js";import"./createChainedFunction-0bab83cf.js";import"./Portal-8f313b54.js";import"./FormControl-8a17c62f.js";import"./utils-5ebfb48b.js";import"./isMuiElement-a2555389.js";import"./formControlState-a1fb9590.js";import"./Select-07709760.js";import"./Popover-e3ff4288.js";import"./Grow-cf41a8df.js";import"./dividerClasses-40064371.js";import"./isEqual-31f470be.js";import"./_baseIsEqual-a826b923.js";import"./isArray-a7125649.js";import"./Popper-880e6f72.js";import"./createPopper-04c39de4.js";import"./useSlot-a49cf6b5.js";import"./Card-ed0a9074.js";const Se=({id:i,onClick:s,onChange:c,onStar:a,onImportant:p,from:r,subject:l,time:n,checked:t,label:j,starred:f,onDelete:C,important:b,isSelected:d})=>{const w=Q(),B=w.palette.warning.main,X=w.palette.error.light;return e.jsxs(V,{sx:{mb:1,py:2},selected:d,alignItems:"flex-start",children:[e.jsx(o,{children:e.jsx(_,{sx:{minWidth:"35px",mt:"0"},children:e.jsx(oe,{edge:"start",id:`check${i}`,tabIndex:-1,onChange:c})})}),e.jsxs(q,{onClick:s,children:[e.jsxs(g,{direction:"row",gap:"10px",alignItems:"center",children:[e.jsx(m,{variant:"subtitle2",mb:.5,fontWeight:600,mr:"auto",children:r}),e.jsx(K,{label:j,size:"small",color:j==="Promotional"?"primary":j==="Social"?"error":"success"})]}),e.jsx(m,{variant:"subtitle2",noWrap:!0,width:"80%",color:"text.secondary",children:l}),e.jsxs(g,{direction:"row",mt:1,gap:"10px",alignItems:"center",children:[e.jsx(F,{onClick:a,stroke:1,size:"18",style:{fill:f?B:"",stroke:f?B:""}}),e.jsx(P,{onClick:p,size:"18",stroke:1.2,style:{fill:b?X:""}}),t?e.jsx(A,{onClick:C,stroke:1.5,size:"16"}):"",e.jsxs(m,{variant:"caption",noWrap:!0,sx:{ml:"auto"},children:[he(new Date(n),{addSuffix:!1}),"","ago"]})]})]})]})},ze=({showrightSidebar:i})=>{const s=S();x.useEffect(()=>{s(Z())},[s]);const c=(r,l,n)=>{switch(l){case"inbox":return r.filter(t=>t.inbox&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"sent":return r.filter(t=>t.sent&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"draft":return r.filter(t=>t.draft&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"spam":return r.filter(t=>t.spam&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"trash":return r.filter(t=>t.trash&&t.from.toLocaleLowerCase().includes(n));case"starred":return r.filter(t=>t.starred&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"important":return r.filter(t=>t.important&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"Promotional":return r.filter(t=>t.label==="Promotional"&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"Social":return r.filter(t=>t.label==="Social"&&!t.trash&&t.from.toLocaleLowerCase().includes(n));case"Health":return r.filter(t=>t.label==="Health"&&!t.trash&&t.from.toLocaleLowerCase().includes(n));default:throw new Error(`Unknown filter: ${l}`)}},a=u(r=>c(r.emailReducer.emails,r.emailReducer.currentFilter,r.emailReducer.emailSearch)),p=u(r=>r.emailReducer.emailContent);return e.jsx(J,{children:e.jsx(Y,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:a.map(r=>e.jsx(Se,{active:p,...r,onClick:()=>{s(ee(r.id)),i()},onDelete:()=>s(U(r.id)),isSelected:r.id===p,onStar:()=>s(G(r.id)),onImportant:()=>s(N(r.id)),onChange:l=>{l.target.checked===!0?s(M(r.id,"checked")):s(M(r.id,"unchecked"))}},r.id))})})},Ee=re.forwardRef((i,s)=>e.jsx(xe,{direction:"up",ref:s,...i})),Ie=()=>{const[i,s]=x.useState(!1),c=()=>{s(!0)},a=()=>{s(!1)};return e.jsxs(o,{children:[e.jsx(o,{p:3,pb:1,children:e.jsx(h,{variant:"contained",fullWidth:!0,color:"primary",onClick:c,children:"Compose"})}),e.jsxs(ue,{open:i,TransitionComponent:Ee,keepMounted:!0,onClose:a,fullWidth:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[e.jsx(fe,{id:"alert-dialog-slide-title",variant:"h5",children:"Compose Mail"}),e.jsx(je,{children:e.jsxs(ge,{id:"alert-dialog-slide-description",component:"div",children:[e.jsx(v,{htmlFor:"to-text",children:"To"}),e.jsx(k,{id:"to-text",fullWidth:!0,size:"small",variant:"outlined"}),e.jsx(v,{htmlFor:"subject-text",children:"Subject"}),e.jsx(k,{id:"subject-text",fullWidth:!0,size:"small",variant:"outlined"}),e.jsx(v,{htmlFor:"message-text",children:"Message"}),e.jsx(k,{id:"message-text",placeholder:"Write a message",multiline:!0,fullWidth:!0,rows:4,variant:"outlined"}),e.jsx(v,{htmlFor:"upload-text",children:"Attachment"}),e.jsx(k,{type:"file",autoFocus:!0,id:"upload-text",fullWidth:!0,size:"small",variant:"outlined"})]})}),e.jsxs(Ce,{children:[e.jsx(h,{onClick:a,color:"primary",variant:"contained",children:"Send"}),e.jsx(h,{onClick:a,color:"secondary",children:"Cancel"})]})]})]})},Te=()=>{const i=u(r=>r.emailReducer.currentFilter),c=`${u(r=>r.customizer).borderRadius}px`,a=S(),p=[{id:2,name:"inbox",icon:ae,color:"inherit"},{id:3,name:"sent",icon:ne,color:"inherit"},{id:4,name:"draft",icon:le,color:"inherit"},{id:4,name:"spam",icon:ce,color:"inherit"},{id:5,name:"trash",icon:A,color:"inherit"},{id:6,divider:!0},{id:1,filterbyTitle:"Sort By"},{id:7,name:"starred",icon:F,color:"inherit"},{id:8,name:"important",icon:P,color:"inherit"},{id:9,divider:!0},{id:13,filterbyTitle:"Labels"},{id:10,name:"Promotional",icon:z,color:"primary.main"},{id:11,name:"Social",icon:z,color:"error.main"},{id:12,name:"Health",icon:z,color:"success.main"}];return e.jsxs(e.Fragment,{children:[e.jsx(o,{children:e.jsx(Ie,{})}),e.jsx(J,{children:e.jsx(Y,{sx:{height:{lg:"calc(100vh - 100px)",md:"100vh"},maxHeight:"800px"},children:p.map(r=>r.filterbyTitle?e.jsx(m,{variant:"subtitle2",p:3,pb:1,pl:5.5,fontWeight:600,children:r.filterbyTitle},r.id):r.divider?e.jsx(y,{},r.id):e.jsxs(V,{sx:{mb:1,px:"20px",mx:3,borderRadius:c},selected:i===`${r.name}`,onClick:()=>a(te(`${r.name}`)),children:[e.jsx(_,{sx:{minWidth:"30px",color:r.color},children:e.jsx(r.icon,{stroke:"1.5",size:19})}),e.jsx(q,{sx:{textTransform:"capitalize"},children:r.name})]},`${r.id}${r.name}`))})})]})},De=({onClick:i})=>{const s=u(a=>a.emailReducer.emailSearch),c=S();return e.jsxs(o,{display:"flex",sx:{p:2},children:[e.jsx(we,{onClick:i,color:"primary",size:"small",sx:{mr:1,flexShrink:"0",display:{xs:"block",lineHeight:"10px",lg:"none"}},children:e.jsx(de,{width:"16"})}),e.jsx(be,{id:"outlined-basic",InputProps:{endAdornment:e.jsx(ve,{position:"end",children:e.jsx(me,{size:"16"})})},fullWidth:!0,size:"small",value:s,placeholder:"Search emails",variant:"outlined",onChange:a=>c(ie(a.target.value))})]})},$=()=>{var f,C,b;const i=u(d=>d.emailReducer.emails[d.emailReducer.emailContent-1]),[s,c]=x.useState(!1),[a,p]=x.useState(""),r=()=>{c(!s)},l=S(),n=Q(),t=n.palette.warning.main,j=n.palette.error.light;return i&&!i.trash?e.jsxs(o,{children:[e.jsxs(g,{p:2,gap:0,direction:"row",children:[e.jsx(E,{title:i.starred?"Unstar":"Star",children:e.jsx(I,{onClick:()=>l(G(i.id)),children:e.jsx(F,{stroke:1.3,size:"18",style:{fill:i.starred?t:"",stroke:i.starred?t:""}})})}),e.jsx(E,{title:i?"Important":"Not Important",children:e.jsx(I,{onClick:()=>l(N(i.id)),children:e.jsx(P,{size:"18",stroke:1.3,style:{fill:i.important?j:""}})})}),e.jsx(E,{title:"Delete",children:e.jsx(I,{onClick:()=>l(U(i.id)),children:e.jsx(A,{size:"18",stroke:1.3})})})]}),e.jsx(y,{}),e.jsxs(o,{p:3,children:[e.jsxs(o,{display:"flex",alignItems:"center",sx:{pb:3},children:[e.jsx(T,{alt:i.from,src:i.thumbnail}),e.jsxs(o,{sx:{ml:2},children:[e.jsx(m,{variant:"h6",children:i.from}),e.jsx(m,{variant:"body2",children:i.To})]}),e.jsx(K,{label:i.label,sx:{ml:"auto",height:"21px"},size:"small",color:i.label==="Promotional"?"primary":i.label==="Social"?"error":"success"})]}),e.jsx(o,{sx:{py:2},children:e.jsx(m,{variant:"h4",children:i.subject})}),e.jsx(o,{sx:{py:2},children:e.jsx("div",{dangerouslySetInnerHTML:{__html:i.emailContent}})})]}),((f=i==null?void 0:i.attchments)==null?void 0:f.length)===0?null:e.jsxs(e.Fragment,{children:[e.jsx(y,{}),e.jsxs(o,{p:3,children:[e.jsxs(m,{variant:"h6",children:["Attachments (",(C=i==null?void 0:i.attchments)==null?void 0:C.length,")"]}),e.jsx(H,{container:!0,spacing:3,children:(b=i.attchments)==null?void 0:b.map(d=>e.jsx(H,{item:!0,lg:4,children:e.jsxs(g,{direction:"row",gap:2,mt:2,children:[e.jsx(T,{variant:"rounded",sx:{width:"48px",height:"48px",bgcolor:w=>w.palette.grey[100]},children:e.jsx(T,{src:d.image,alt:"av",variant:"rounded",sx:{width:"24px",height:"24px"}})}),e.jsxs(o,{mr:"auto",children:[e.jsx(m,{variant:"subtitle2",fontWeight:600,mb:1,children:d.title}),e.jsx(m,{variant:"body2",children:d.fileSize})]})]})},d.id))})]}),e.jsx(y,{})]}),e.jsxs(o,{p:3,children:[e.jsxs(g,{direction:"row",gap:2,children:[e.jsx(h,{variant:"outlined",size:"small",color:"primary",onClick:r,children:"Reply"}),e.jsx(h,{variant:"outlined",size:"small",children:"Forward"})]}),s?e.jsx(o,{mt:3,children:e.jsx(pe,{variant:"outlined",children:e.jsx(ke,{value:a,onChange:d=>{p(d)},placeholder:"Type here..."})})}):null]})]}):e.jsx(o,{p:3,height:"50vh",display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(o,{children:[e.jsx(m,{variant:"h4",children:"Please Select a Mail"}),e.jsx("br",{}),e.jsx("img",{src:L,alt:L,width:"250px"})]})})},R=240,W=320,qr=()=>{const[i,s]=x.useState(!1),[c,a]=x.useState(!1),p=O(l=>l.breakpoints.up("lg")),r=O(l=>l.breakpoints.up("md"));return e.jsxs(ye,{title:"Email App",description:"this is email page",children:[e.jsx(se,{title:"Email app",subtitle:"Look at Inbox",children:e.jsx(o,{children:e.jsx("img",{src:L,alt:L,width:"165px"})})}),e.jsxs(Le,{children:[e.jsx(D,{open:i,onClose:()=>s(!1),sx:{width:R,"& .MuiDrawer-paper":{width:R,position:"relative",zIndex:2},flexShrink:0},variant:p?"permanent":"temporary",children:e.jsx(Te,{})}),e.jsxs(o,{sx:{minWidth:W,width:{xs:"100%",md:W,lg:W},flexShrink:0},children:[e.jsx(De,{onClick:()=>s(!0)}),e.jsx(ze,{showrightSidebar:()=>a(!0)})]}),r?e.jsx(D,{anchor:"right",variant:"permanent",sx:{zIndex:0,width:"200px",flex:"1 1 auto","& .MuiDrawer-paper":{position:"relative"}},children:e.jsx(o,{children:e.jsx($,{})})}):e.jsx(D,{anchor:"right",open:c,onClose:()=>a(!1),sx:{width:R,flexShrink:0,"& .MuiDrawer-paper":{width:"85%"}},variant:"temporary",children:e.jsxs(o,{children:[e.jsx(o,{pl:3,pt:3,children:e.jsxs(h,{variant:"outlined",color:"primary",size:"small",onClick:()=>a(!1),sx:{display:{xs:"block",md:"none",lg:"none"}},children:[" ","Back"," "]})}),e.jsx($,{})]})})]})]})};export{qr as default};
