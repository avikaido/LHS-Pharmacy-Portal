import{j as e,r as d}from"./index-1d78c4ac.js";import{B as S}from"./Breadcrumb-4b5ba697.js";import{P as I}from"./PageContainer-51f17055.js";import{c as V,u as D,D as M,f as C,g as k,a as B,b as H,d as q}from"./index-2b7bd3a9.js";import{b as N}from"./FilterTableData-584f08f9.js";import{C as P}from"./CustomTextField-cf77374e.js";import{C as R}from"./CustomSelect-caffa199.js";import{ac as z,q as E,aJ as A,bs as L,bt as W,bu as G,bv as U}from"./index.esm-4ca6571d.js";import{T as i,B as x}from"./Box-3b2e6d90.js";import{C as J}from"./Chip-ef3907c5.js";import{S as h}from"./Stack-4b2e722b.js";import{A as O}from"./Avatar-49c7f2db.js";import{L as X}from"./LinearProgress-7d076a9c.js";import{G as v}from"./Grid-ba112631.js";import{T as Z}from"./TableContainer-e51d3cfd.js";import{T as _,a as K,b as f,c as w,d as Q}from"./TableRow-47830db4.js";import{D as Y}from"./Divider-32914f08.js";import{B as $}from"./Button-6de5bece.js";import{M as p}from"./MenuItem-39bf6f11.js";import{I as j}from"./IconButton-6eb83b27.js";import"./Link-5958468e.js";import"./Card-ed0a9074.js";import"./CardHeader-4375bfdf.js";import"./Tooltip-58d28098.js";import"./Popper-880e6f72.js";import"./useId-521a9597.js";import"./Portal-8f313b54.js";import"./createPopper-04c39de4.js";import"./useControlled-05793c79.js";import"./Grow-cf41a8df.js";import"./utils-f13413e5.js";import"./TextField-84ec9af9.js";import"./FormControl-8a17c62f.js";import"./utils-5ebfb48b.js";import"./useFormControl-9666228d.js";import"./isMuiElement-a2555389.js";import"./formControlState-a1fb9590.js";import"./Select-07709760.js";import"./Popover-e3ff4288.js";import"./Modal-5026ae4f.js";import"./ownerWindow-f1e1d6ee.js";import"./createChainedFunction-0bab83cf.js";import"./debounce-517eeb3c.js";import"./List-eaf26c6f.js";import"./createStack-08af7ebe.js";import"./styled-db48c038.js";import"./useThemeProps-a461f42f.js";import"./useSlot-a49cf6b5.js";import"./dividerClasses-40064371.js";import"./listItemTextClasses-76a31095.js";const ee=N,b=V(),te=[b.accessor("invoiceno",{header:()=>"Invoice",cell:t=>e.jsxs(i,{variant:"subtitle1",color:"textPrimary",fontWeight:600,children:["INV- ",t.getValue()]})}),b.accessor("status",{header:()=>"Status",meta:{filterVariant:"select"},cell:t=>e.jsx(J,{label:t.getValue(),icon:t.getValue()=="Paid"?e.jsx(z,{width:16}):t.getValue()=="Cancelled"?e.jsx(E,{width:16}):e.jsx(A,{width:16}),sx:{backgroundColor:t.getValue()=="Paid"?r=>r.palette.primary.light:t.getValue()=="Cancelled"?r=>r.palette.error.light:r=>r.palette.secondary.light,color:t.getValue()=="Paid"?r=>r.palette.primary.main:t.getValue()=="Cancelled"?r=>r.palette.error.main:r=>r.palette.secondary.main,".MuiChip-icon":{color:"inherit !important"}}})}),b.accessor("name",{header:()=>"Customer",cell:t=>e.jsxs(h,{direction:"row",spacing:2,children:[e.jsx(O,{src:t.row.original.imgsrc,alt:t.row.original.imgsrc,sx:{width:40,height:40}}),e.jsxs(x,{children:[e.jsx(i,{variant:"h6",fontWeight:"600",children:t.getValue()}),e.jsx(i,{color:"textSecondary",variant:"subtitle2",children:t.row.original.post})]})]})}),b.accessor("progress",{header:()=>"Progress",cell:t=>e.jsxs(h,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(x,{width:"50%",children:e.jsx(X,{variant:"determinate",value:t.getValue(),color:"primary"})}),e.jsxs(i,{variant:"subtitle2",color:"textSecondary",children:[t.getValue(),"%"]})]})})];function ae({column:t}){const r=t.getFilterValue(),{filterVariant:n}=t.columnDef.meta||{};return n==="select"?e.jsxs(R,{onChange:l=>t.setFilterValue(l.target.value),value:r?r.toString():"",children:[e.jsx(p,{value:"",children:"All"}),e.jsx(p,{value:"Paid",children:"Paid"}),e.jsx(p,{value:"Cancelled",children:"Cancelled"}),e.jsx(p,{value:"Refunded",children:"Refunded"})]}):e.jsx(re,{onChange:l=>t.setFilterValue(l),placeholder:"Search...",type:"text",value:r||""})}function re({value:t,onChange:r,debounce:n=500,...l}){const[m,a]=d.useState(t);return d.useEffect(()=>{a(t)},[t]),d.useEffect(()=>{const g=setTimeout(()=>{r(m)},n);return()=>clearTimeout(g)},[m,n,r]),e.jsx(P,{...l,value:m,onChange:g=>a(g.target.value)})}const oe=()=>{const[t,r]=d.useState(()=>[...ee]),[n,l]=d.useState([]),m=d.useReducer(()=>({}),{})[1],a=D({data:t,columns:te,filterFns:{},state:{columnFilters:n},onColumnFiltersChange:l,getCoreRowModel:k(),getFilteredRowModel:B(),getSortedRowModel:H(),getPaginationRowModel:q(),debugTable:!0,debugHeaders:!0,debugColumns:!1}),g=()=>{const o=["Invoice","Status","Customer","Progress"],s=t.map(c=>[c.invoiceno,c.status,c.name,c.progress]),y=[o.join(","),...s.map(c=>c.join(","))].join(`
`),T=new Blob([y],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(T),u=document.createElement("a");u.href=F,u.setAttribute("download","table-data.csv"),document.body.appendChild(u),u.click(),document.body.removeChild(u)};return e.jsx(M,{title:"Filter Table",onDownload:g,children:e.jsx(v,{container:!0,spacing:3,children:e.jsx(v,{item:!0,xs:12,children:e.jsxs(x,{children:[e.jsx(Z,{children:e.jsxs(_,{sx:{whiteSpace:"nowrap"},children:[e.jsx(K,{children:a.getHeaderGroups().map(o=>e.jsx(f,{children:o.headers.map(s=>e.jsxs(w,{children:[e.jsx(i,{variant:"h6",mb:1,className:s.column.getCanSort()?"cursor-pointer select-none":"",onClick:s.column.getToggleSortingHandler(),children:s.isPlaceholder?null:C(s.column.columnDef.header,s.getContext())}),s.column.getCanFilter()?e.jsx("div",{children:e.jsx(ae,{column:s.column})}):null]},s.id))},o.id))}),e.jsx(Q,{children:a.getRowModel().rows.map(o=>e.jsx(f,{children:o.getVisibleCells().map(s=>e.jsx(w,{children:C(s.column.columnDef.cell,s.getContext())},s.id))},o.id))})]})}),e.jsx(Y,{}),e.jsxs(h,{gap:1,p:3,alignItems:"center",direction:"row",justifyContent:"space-between",children:[e.jsxs(x,{display:"flex",alignItems:"center",gap:1,children:[e.jsx($,{variant:"contained",color:"primary",onClick:()=>m(),children:"Force Rerender"}),e.jsxs(i,{variant:"body1",children:[a.getPrePaginationRowModel().rows.length," Rows"]})]}),e.jsxs(x,{display:"flex",alignItems:"center",gap:1,children:[e.jsxs(h,{direction:"row",alignItems:"center",gap:1,children:[e.jsx(i,{variant:"body1",children:"Page"}),e.jsxs(i,{variant:"body1",fontWeight:600,children:[a.getState().pagination.pageIndex+1," of"," ",a.getPageCount()]})]}),e.jsxs(h,{direction:"row",alignItems:"center",gap:1,children:["| Go to page:",e.jsx(P,{type:"number",min:"1",max:a.getPageCount(),defaultValue:a.getState().pagination.pageIndex+1,onChange:o=>{const s=o.target.value?Number(o.target.value)-1:0;a.setPageIndex(s)}})]}),e.jsx(R,{value:a.getState().pagination.pageSize,onChange:o=>{a.setPageSize(Number(o.target.value))},children:[10,15,20,25].map(o=>e.jsx(p,{value:o,children:o},o))}),e.jsx(j,{size:"small",onClick:()=>a.setPageIndex(0),disabled:!a.getCanPreviousPage(),children:e.jsx(L,{})}),e.jsx(j,{size:"small",onClick:()=>a.previousPage(),disabled:!a.getCanPreviousPage(),children:e.jsx(W,{})}),e.jsx(j,{size:"small",onClick:()=>a.nextPage(),disabled:!a.getCanNextPage(),children:e.jsx(G,{})}),e.jsx(j,{size:"small",onClick:()=>a.setPageIndex(a.getPageCount()-1),disabled:!a.getCanNextPage(),children:e.jsx(U,{})})]})]})]})})})})},se=[{to:"/",title:"Home"},{title:"Filter Table"}];function at(){return e.jsx(e.Fragment,{children:e.jsxs(I,{title:"React Filter Table",description:"this is React  Filter Table page",children:[e.jsx(S,{title:"Filter Table ",items:se}),e.jsx(oe,{})]})})}export{at as default};
