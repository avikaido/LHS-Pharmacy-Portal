import{a5 as u,r as t,a4 as G,j as p}from"./index-1d78c4ac.js";import{i as N,j as X,W as V}from"./index-fee8f92e.js";import{g as Y,c as $,s as M,u as A,e as q,a as J}from"./Box-3b2e6d90.js";import{P as Q}from"./Popper-880e6f72.js";import{P as Z}from"./Grid-ba112631.js";import{u as ee}from"./useThemeProps-fa04b35d.js";import{a as oe}from"./Modal-5026ae4f.js";import{o as w}from"./useId-521a9597.js";import{G as ne}from"./Grow-cf41a8df.js";function te(o){return Y("MuiPickersPopper",o)}$("MuiPickersPopper",["root","paper"]);const re=["onClick","onTouchStart"],se=o=>{const{classes:n}=o;return q({root:["root"],paper:["paper"]},te,n)},ce=M(Q,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(o,n)=>n.root})(({theme:o})=>({zIndex:o.zIndex.modal})),ae=M(Z,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(o,n)=>n.paper})(({ownerState:o})=>u({transformOrigin:"top center",outline:0},o.placement==="top"&&{transformOrigin:"bottom center"}));function ie(o,n){return n.documentElement.clientWidth<o.clientX||n.documentElement.clientHeight<o.clientY}function ue(o,n){const c=t.useRef(!1),l=t.useRef(!1),r=t.useRef(null),f=t.useRef(!1);t.useEffect(()=>{if(!o)return;function e(){f.current=!0}return document.addEventListener("mousedown",e,!0),document.addEventListener("touchstart",e,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("touchstart",e,!0),f.current=!1}},[o]);const s=J(e=>{if(!f.current)return;const d=l.current;l.current=!1;const h=w(r.current);if(!r.current||"clientX"in e&&ie(e,h))return;if(c.current){c.current=!1;return}let m;e.composedPath?m=e.composedPath().indexOf(r.current)>-1:m=!h.documentElement.contains(e.target)||r.current.contains(e.target),!m&&!d&&n(e)}),a=()=>{l.current=!0};return t.useEffect(()=>{if(o){const e=w(r.current),d=()=>{c.current=!0};return e.addEventListener("touchstart",s),e.addEventListener("touchmove",d),()=>{e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",d)}}},[o,s]),t.useEffect(()=>{if(o){const e=w(r.current);return e.addEventListener("click",s),()=>{e.removeEventListener("click",s),l.current=!1}}},[o,s]),[r,a,a]}function pe(o){var n;const c=ee({props:o,name:"MuiPickersPopper"}),{anchorEl:l,children:r,containerRef:f=null,onBlur:s,onClose:a,onClear:e,onAccept:d,onCancel:h,onSetToday:m,open:i,PopperProps:T,role:E,TransitionComponent:R=ne,TrapFocusProps:L,PaperProps:g={},components:y,componentsProps:v}=c;t.useEffect(()=>{function P(x){i&&(x.key==="Escape"||x.key==="Esc")&&a()}return document.addEventListener("keydown",P),()=>{document.removeEventListener("keydown",P)}},[a,i]);const C=t.useRef(null);t.useEffect(()=>{E!=="tooltip"&&(i?C.current=N(document):C.current&&C.current instanceof HTMLElement&&setTimeout(()=>{C.current instanceof HTMLElement&&C.current.focus()}))},[i,E]);const[F,B,I]=ue(i,s??a),_=t.useRef(null),W=A(_,f),K=A(W,F),j=c,S=se(j),{onClick:b,onTouchStart:D}=g,O=G(g,re),U=P=>{P.key==="Escape"&&(P.stopPropagation(),a())},H=(n=y==null?void 0:y.ActionBar)!=null?n:X,z=(y==null?void 0:y.PaperContent)||t.Fragment;return p.jsx(ce,u({transition:!0,role:E,open:i,anchorEl:l,onKeyDown:U,className:S.root},T,{children:({TransitionProps:P,placement:x})=>p.jsx(oe,u({open:i,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:E==="tooltip",isEnabled:()=>!0},L,{children:p.jsx(R,u({},P,{children:p.jsx(ae,u({tabIndex:-1,elevation:8,ref:K,onClick:k=>{B(k),b&&b(k)},onTouchStart:k=>{I(k),D&&D(k)},ownerState:u({},j,{placement:x}),className:S.paper},O,{children:p.jsxs(z,u({},v==null?void 0:v.paperContent,{children:[r,p.jsx(H,u({onAccept:d,onClear:e,onCancel:h,onSetToday:m,actions:[]},v==null?void 0:v.actionBar))]}))}))}))}))}))}function Re(o){const{children:n,DateInputProps:c,KeyboardDateInputComponent:l,onClear:r,onDismiss:f,onCancel:s,onAccept:a,onSetToday:e,open:d,PopperProps:h,PaperProps:m,TransitionComponent:i,components:T,componentsProps:E}=o,R=t.useRef(null),L=A(c.inputRef,R);return p.jsxs(V.Provider,{value:"desktop",children:[p.jsx(l,u({},c,{inputRef:L})),p.jsx(pe,{role:"dialog",open:d,anchorEl:R.current,TransitionComponent:i,PopperProps:h,PaperProps:m,onClose:f,onCancel:s,onClear:r,onAccept:a,onSetToday:e,components:T,componentsProps:E,children:n})]})}export{Re as D};
