import{P as f,r as h,e as G,aB as J,f as N,j as e}from"./index-1d78c4ac.js";import{C as A}from"./CustomCheckbox-0154e390.js";import{C as Q}from"./CustomSwitch-dd9f44e8.js";import{ak as U,a1 as V,ao as Y,bh as Z}from"./index.esm-4ca6571d.js";import{B as u,T as g}from"./Box-3b2e6d90.js";import{P as _}from"./Grid-ba112631.js";import{T as ee}from"./TableContainer-e51d3cfd.js";import{T as te,d as se,b as k,c as x,a as ne}from"./TableRow-47830db4.js";import{A as re}from"./Avatar-49c7f2db.js";import{f as ae}from"./index-0f1c3eaf.js";import{T as y}from"./Tooltip-58d28098.js";import{I as R}from"./IconButton-6eb83b27.js";import{T as ie}from"./TablePagination-d15666bb.js";import{F as ce}from"./FormControlLabel-d06535e3.js";import{T as le}from"./TableSortLabel-0069fa43.js";import{v as oe}from"./visuallyHidden-fa9934b5.js";import{T as de}from"./Toolbar-7b091417.js";import{T as he}from"./TextField-84ec9af9.js";import{I as me}from"./InputAdornment-d2fe32aa.js";import{a as ue}from"./colorManipulator-94529648.js";function w(l,a,s){return a[s]<l[s]?-1:a[s]>l[s]?1:0}function xe(l,a){return l==="desc"?(s,r)=>w(s,r,a):(s,r)=>-w(s,r,a)}function pe(l,a){const s=l.map((r,n)=>[r,n]);return s.sort((r,n)=>{const m=a(r[0],n[0]);return m!==0?m:r[1]-n[1]}),s.map(r=>r[0])}const fe=[{id:"name",numeric:!1,disablePadding:!1,label:"Products"},{id:"pname",numeric:!1,disablePadding:!1,label:"Date"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"price",numeric:!1,disablePadding:!1,label:"Price"},{id:"action",numeric:!1,disablePadding:!1,label:"Action"}];function D(l){const{onSelectAllClick:a,order:s,orderBy:r,numSelected:n,rowCount:m,onRequestSort:p}=l,P=i=>C=>{p(C,i)};return e.jsx(ne,{children:e.jsxs(k,{children:[e.jsx(x,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:m>0&&n===m,onChange:a,inputprops:{"aria-label":"select all desserts"}})}),fe.map(i=>e.jsx(x,{align:i.numeric?"right":"left",padding:i.disablePadding?"none":"normal",sortDirection:r===i.id?s:!1,children:e.jsxs(le,{active:r===i.id,direction:r===i.id?s:"asc",onClick:P(i.id),children:[i.label,r===i.id?e.jsx(u,{component:"span",sx:oe,children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},i.id))]})})}D.propTypes={numSelected:f.number.isRequired,onRequestSort:f.func.isRequired,onSelectAllClick:f.func.isRequired,order:f.oneOf(["asc","desc"]).isRequired,orderBy:f.string.isRequired,rowCount:f.number.isRequired};const z=l=>{const{numSelected:a,handleSearch:s,search:r}=l;return e.jsxs(de,{sx:{pl:{sm:2},pr:{xs:1,sm:1},...a>0&&{bgcolor:n=>ue(n.palette.primary.main,n.palette.action.activatedOpacity)}},children:[a>0?e.jsxs(g,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle2",component:"div",children:[a," selected"]}):e.jsx(u,{sx:{flex:"1 1 100%"},children:e.jsx(he,{InputProps:{startAdornment:e.jsx(me,{position:"start",children:e.jsx(V,{size:"1.1rem"})})},placeholder:"Search Product",size:"small",onChange:s,value:r})}),a>0?e.jsx(y,{title:"Delete",children:e.jsx(R,{children:e.jsx(Y,{width:"18"})})}):e.jsx(y,{title:"Filter list",children:e.jsx(R,{children:e.jsx(Z,{size:"1.2rem",icon:"filter"})})})]})};z.propTypes={numSelected:f.number.isRequired};const Fe=()=>{const[l,a]=h.useState("asc"),[s,r]=h.useState("calories"),[n,m]=h.useState([]),[p,P]=h.useState(0),[i,C]=h.useState(!1),[j,E]=h.useState(5),v=G();h.useEffect(()=>{v(J())},[v]);const T=N(t=>t.ecommerceReducer.products),[b,I]=h.useState(T),[O,B]=h.useState("");h.useEffect(()=>{I(T)},[T]);const F=t=>{const o=T.filter(c=>c.title.toLowerCase().includes(t.target.value));B(t.target.value),I(o)},H=(t,o)=>{a(s===o&&l==="asc"?"desc":"asc"),r(o)},L=t=>{if(t.target.checked){const o=b.map(c=>c.title);m(o);return}m([])},M=(t,o)=>{const c=n.indexOf(o);let d=[];c===-1?d=d.concat(n,o):c===0?d=d.concat(n.slice(1)):c===n.length-1?d=d.concat(n.slice(0,-1)):c>0&&(d=d.concat(n.slice(0,c),n.slice(c+1))),m(d)},W=(t,o)=>{P(o)},$=t=>{E(parseInt(t.target.value,10)),P(0)},K=t=>{C(t.target.checked)},X=t=>n.indexOf(t)!==-1,q=p>0?Math.max(0,(1+p)*j-b.length):0;return e.jsx(u,{children:e.jsxs(u,{children:[e.jsx(z,{numSelected:n.length,search:O,handleSearch:t=>F(t)}),e.jsxs(_,{variant:"outlined",sx:{mx:2,mt:1},children:[e.jsx(ee,{children:e.jsxs(te,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:i?"small":"medium",children:[e.jsx(D,{numSelected:n.length,order:l,orderBy:s,onSelectAllClick:L,onRequestSort:H,rowCount:b.length}),e.jsxs(se,{children:[pe(b,xe(l,s)).slice(p*j,p*j+j).map((t,o)=>{const c=X(t.title),d=`enhanced-table-checkbox-${o}`;return e.jsxs(k,{hover:!0,onClick:S=>M(S,t.title),role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[e.jsx(x,{padding:"checkbox",children:e.jsx(A,{color:"primary",checked:c,inputprops:{"aria-labelledby":d}})}),e.jsx(x,{children:e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx(re,{src:t.photo,alt:t.photo,variant:"rounded",sx:{width:56,height:56,borderRadius:"100%"}}),e.jsxs(u,{sx:{ml:2},children:[e.jsx(g,{variant:"h6",fontWeight:"600",children:t.title}),e.jsx(g,{color:"textSecondary",variant:"subtitle2",children:t.category})]})]})}),e.jsx(x,{children:e.jsx(g,{children:ae(new Date(t.created),"E, MMM d yyyy")})}),e.jsx(x,{children:e.jsxs(u,{display:"flex",alignItems:"center",children:[e.jsx(u,{sx:{backgroundColor:t.stock?S=>S.palette.success.main:S=>S.palette.error.main,borderRadius:"100%",height:"10px",width:"10px"}}),e.jsx(g,{color:"textSecondary",variant:"subtitle2",sx:{ml:1},children:t.stock?"InStock":"Out of Stock"})]})}),e.jsx(x,{children:e.jsxs(g,{fontWeight:"500",variant:"h6",children:["$",t.price]})}),e.jsx(x,{children:e.jsx(y,{title:"Edit",children:e.jsx(R,{size:"small",children:e.jsx(U,{size:"1.1rem"})})})})]},t.title)}),q>0&&e.jsx(k,{style:{height:(i?33:53)*q},children:e.jsx(x,{colSpan:6})})]})]})}),e.jsx(ie,{rowsPerPageOptions:[5,10,25],component:"div",count:b.length,rowsPerPage:j,page:p,onPageChange:W,onRowsPerPageChange:$})]}),e.jsx(u,{ml:2,children:e.jsx(ce,{control:e.jsx(Q,{checked:i,onChange:K}),label:"Dense padding"})})]})})};export{Fe as P};
